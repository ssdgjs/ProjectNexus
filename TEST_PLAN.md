# Project Nexus V0.2.0 - Comprehensive Test Plan

**测试日期**: 2026-02-08
**测试版本**: V0.2.0
**测试目标**: 完成全部功能测试，包括浏览器点击测试

---

## 测试环境

- ✅ 后端服务: http://localhost:8000 (健康)
- ✅ 前端服务: http://localhost:5173 (运行中)
- ✅ 数据库: SQLite (开发环境)

---

## 阶段1: 基础设施测试

### 1.1 Toast 通知系统
- [ ] 触发错误（如提交空表单）→ 验证 Toast 显示
- [ ] Toast 自动消失（3-5秒）
- [ ] 多个 Toast 堆叠显示
- [ ] Toast 位置（右上角）
- [ ] 不同类型 Toast（success/error/warning/info）

### 1.2 空状态引导
- [ ] 清空所有项目 → 验证 EmptyState 显示
- [ ] 清空所有模块 → 验证 EmptyState 显示
- [ ] 无交付记录 → 验证 EmptyState 显示
- [ ] 无承接人 → 验证 EmptyState 显示
- [ ] 知识库为空 → 验证 EmptyState 显示
- [ ] 无关联知识 → 验证 EmptyState 显示

### 1.3 Alert 和 Tooltip 组件
- [ ] Alert 不同变体（info/success/warning/error）
- [ ] Tooltip 4 个方向（top/bottom/left/right）
- [ ] Tooltip 延迟显示

---

## 阶段2: 核心流程测试

### 2.1 ReviewModal 优化
- [ ] 评分说明面板显示
- [ ] 承接人数显示
- [ ] 建议分数范围显示
- [ ] 快捷模板选择
- [ ] 模板自动填充到反馈框

### 2.2 任务倒计时
- [ ] 倒计时显示（天/小时/分钟）
- [ ] > 7天：绿色 🟢
- [ ] 3-7天：黄色 🟡
- [ ] < 3天：橙色 🟠
- [ ] 已超时：红色 🔴
- [ ] 每分钟自动更新

### 2.3 交付记录展示
- [ ] 大号状态 badge
- [ ] 附件卡片显示
- [ ] 验收结果独立区块
- [ ] 颜色编码反馈

### 2.4 超时自动检测
- [ ] 后端调度器运行
- [ ] 每小时检查超时
- [ ] 标记超时状态
- [ ] 发送超时通知

---

## 阶段3: 任务放弃功能测试

### 3.1 节点侧 - 放弃申请
- [ ] "申请放弃"按钮显示（承接人可见）
- [ ] 点击打开 Modal
- [ ] 输入原因（<10字符 → 错误）
- [ ] 输入原因（≥10字符 → 成功）
- [ ] 警告提示显示
- [ ] 提交成功 → Toast 通知
- [ ] Modal 关闭

### 3.2 指挥官侧 - 审批流程
- [ ] Dashboard 显示待审批卡片
- [ ] 卡片显示模块、申请人、原因
- [ ] 状态 badge（待审批）
- [ ] 点击"批准申请" → 成功
- [ ] 点击"拒绝申请" → 成功
- [ ] 审批后状态更新
- [ ] 通知发送

---

## 阶段4: 知识库功能测试

### 4.1 知识上传
- [ ] 点击"上传知识"按钮
- [ ] 输入标题（必填）
- [ ] 输入描述（可选）
- [ ] 选择文件
- [ ] 文件类型验证（zip/md/pdf/图片等）
- [ ] 文件大小验证（≤30MB）
- [ ] 上传进度显示
- [ ] 上传成功 → Toast
- [ ] 知识卡片显示

### 4.2 知识浏览
- [ ] 知识列表网格显示
- [ ] 文件类型图标正确
- [ ] 显示文件大小、上传者、时间
- [ ] 关联任务数量 badge
- [ ] 搜索功能（标题/描述）
- [ ] 文件类型筛选
- [ ] 清除筛选按钮

### 4.3 知识操作
- [ ] 点击"下载"按钮
- [ ] 点击"关联"按钮 → Modal
- [ ] 选择任务关联
- [ ] 删除知识（上传者）
- [ ] 删除知识（指挥官）
- [ ] 权限控制正确

### 4.4 任务知识关联
- [ ] 任务详情页"关联知识"区域
- [ ] 显示已关联知识
- [ ] 点击"添加知识" → Modal
- [ ] 选择知识关联
- [ ] 关联成功后显示
- [ ] 解除关联功能

---

## 阶段5: 集成测试

### 5.1 用户注册和登录
- [ ] 注册新用户
- [ ] 登录系统
- [ ] Token 存储
- [ ] 自动登录

### 5.2 项目管理
- [ ] 指挥官创建项目
- [ ] 项目列表显示
- [ ] 项目详情查看
- [ ] 项目编辑和删除

### 5.3 模块管理
- [ ] 指挥官创建模块
- [ ] 节点浏览模块
- [ ] 节点承接任务
- [ ] 并发任务限制（≤3个）
- [ ] 任务槽位释放

### 5.4 交付和验收流程
- [ ] 节点提交交付
- [ ] 指挥官查看交付
- [ ] 指挥官验收（通过/拒绝/关闭）
- [ ] 信誉分结算
- [ ] 通知发送

---

## 阶段6: 浏览器兼容性测试

### 6.1 主流浏览器
- [ ] Chrome (最新版)
- [ ] Firefox (最新版)
- [ ] Safari (最新版)
- [ ] Edge (最新版)

### 6.2 响应式设计
- [ ] 桌面端 (1920x1080)
- [ ] 笔记本 (1366x768)
- [ ] 平板 (768x1024)
- [ ] 手机 (375x667)

---

## 测试结果记录

### 通过的测试
- (待记录)

### 失败的测试
- (待记录)

### 发现的问题
- (待记录)

---

## 测试执行签名

**测试人员**: _______________
**测试日期**: _______________
**测试结果**: [ ] 通过  [ ] 失败
**备注**: ___________________
